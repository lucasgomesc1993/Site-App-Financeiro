{"version":3,"file":"BlogPost-BOXQ1XP5.js","sources":["../../components/blog/PostContent.tsx","../../pages/blog/BlogPost.tsx"],"sourcesContent":["import React from 'react';\r\n\r\n\r\ninterface PostContentProps {\r\n    content: string;\r\n}\r\n\r\nexport const PostContent: React.FC<PostContentProps> = ({ content }) => {\r\n    const contentRef = React.useRef<HTMLDivElement>(null);\r\n\r\n    React.useEffect(() => {\r\n        if (!contentRef.current) return;\r\n\r\n        const links = contentRef.current.getElementsByTagName('a');\r\n        for (let i = 0; i < links.length; i++) {\r\n            const link = links[i];\r\n            const href = link.getAttribute('href');\r\n\r\n            // Check if it's an internal link\r\n            if (href && (href.startsWith('/') || href.startsWith(window.location.origin))) {\r\n                link.removeAttribute('target');\r\n                // Optional: remove rel=\"noopener noreferrer\" if it was added solely for target=\"_blank\"\r\n                // link.removeAttribute('rel'); \r\n            }\r\n        }\r\n    }, [content]);\r\n\r\n    return (\r\n        <div\r\n            ref={contentRef}\r\n            className=\"prose prose-invert prose-lg max-w-none prose-headings:text-white prose-p:text-gray-300 prose-a:text-primary prose-strong:text-white prose-code:text-primary prose-pre:bg-[#1a1a1a] prose-pre:border prose-pre:border-white/10\"\r\n            dangerouslySetInnerHTML={{ __html: content }}\r\n        />\r\n    );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { PostContent } from '../../components/blog/PostContent';\r\nimport { Breadcrumb } from '../../components/Breadcrumb';\r\nimport { AppPromoBanner } from '../../components/AppPromoBanner';\r\nimport { FAQ } from '../../components/FAQ';\r\nimport { blogService } from '../../services/blogService';\r\nimport { Post } from '../../types/blog';\r\nimport { SEO } from '../../components/SEO';\r\nimport { format } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\nimport { Calendar, BookOpen } from 'lucide-react';\r\n\r\nimport { useServerData } from '../../context/ServerContext';\r\n\r\nexport const BlogPost: React.FC = () => {\r\n    const { category, slug } = useParams<{ category: string; slug: string }>();\r\n    const serverData = useServerData();\r\n\r\n    // Initialize with server data if available and matches current slug\r\n    const [post, setPost] = useState<Post | null>(\r\n        (serverData && serverData.slug === slug) ? serverData : null\r\n    );\r\n    const [loading, setLoading] = useState(!post);\r\n\r\n    useEffect(() => {\r\n        const fetchPost = async () => {\r\n            if (!slug || post) return; // Skip if we already have the post\r\n            const data = await blogService.getPostBySlug(slug);\r\n            setPost(data);\r\n            setLoading(false);\r\n        };\r\n        fetchPost();\r\n    }, [slug, post]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <section className=\"relative min-h-screen pt-32 pb-24 px-4 overflow-hidden\">\r\n                <div className=\"container mx-auto px-4 py-20\">\r\n                    <div className=\"max-w-3xl mx-auto space-y-8 animate-pulse\">\r\n                        <div className=\"h-8 bg-white/5 rounded w-3/4\" />\r\n                        <div className=\"h-64 bg-white/5 rounded-2xl\" />\r\n                        <div className=\"space-y-4\">\r\n                            <div className=\"h-4 bg-white/5 rounded\" />\r\n                            <div className=\"h-4 bg-white/5 rounded\" />\r\n                            <div className=\"h-4 bg-white/5 rounded w-5/6\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n\r\n    if (!post) {\r\n        return (\r\n            <section className=\"relative min-h-screen pt-32 pb-24 px-4 overflow-hidden\">\r\n                <div className=\"container mx-auto px-4 text-center py-20\">\r\n                    <h1 className=\"text-2xl text-white\">Post não encontrado</h1>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n\r\n    // JSON-LD for BlogPosting\r\n    const blogPostingSchema = {\r\n        \"@context\": \"https://schema.org\",\r\n        \"@type\": \"BlogPosting\",\r\n        \"headline\": post.title,\r\n        \"image\": post.cover_image,\r\n        \"datePublished\": post.published_at,\r\n        \"dateModified\": post.updated_at || post.published_at,\r\n        \"author\": {\r\n            \"@type\": \"Person\",\r\n            \"name\": post.author?.name || \"Junny Team\",\r\n            \"url\": post.author?.linkedin_url,\r\n            \"jobTitle\": post.author?.role\r\n        },\r\n        \"publisher\": {\r\n            \"@type\": \"Organization\",\r\n            \"name\": \"Junny\",\r\n            \"logo\": {\r\n                \"@type\": \"ImageObject\",\r\n                \"url\": \"https://junny.com.br/logo.png\"\r\n            }\r\n        },\r\n        \"description\": post.meta_description || post.excerpt\r\n    };\r\n\r\n    // JSON-LD for FAQPage (if exists)\r\n    const faqSchema = post.faq && post.faq.length > 0 ? {\r\n        \"@context\": \"https://schema.org\",\r\n        \"@type\": \"FAQPage\",\r\n        \"mainEntity\": post.faq.map(item => ({\r\n            \"@type\": \"Question\",\r\n            \"name\": item.question,\r\n            \"acceptedAnswer\": {\r\n                \"@type\": \"Answer\",\r\n                \"text\": item.answer\r\n            }\r\n        }))\r\n    } : null;\r\n\r\n    return (\r\n        <section className=\"relative min-h-screen pt-32 pb-24 px-4 overflow-hidden\">\r\n            <SEO\r\n                title={post.meta_title || post.title}\r\n                description={post.meta_description || post.excerpt}\r\n                canonical={`https://junny.com.br/blog/${post.category?.slug || 'geral'}/${post.slug}`}\r\n                image={post.cover_image}\r\n            />\r\n\r\n            <script\r\n                type=\"application/ld+json\"\r\n                dangerouslySetInnerHTML={{ __html: JSON.stringify(blogPostingSchema) }}\r\n            />\r\n\r\n            {faqSchema && (\r\n                <script\r\n                    type=\"application/ld+json\"\r\n                    dangerouslySetInnerHTML={{ __html: JSON.stringify(faqSchema) }}\r\n                />\r\n            )}\r\n\r\n            {/* Background Orbs */}\r\n            <div className=\"absolute top-[-10%] left-[-10%] w-[800px] h-[800px] bg-primary/5 rounded-full blur-[120px] pointer-events-none mix-blend-screen\" />\r\n            <div className=\"absolute bottom-[10%] right-[-10%] w-[600px] h-[600px] bg-accent/10 rounded-full blur-[120px] pointer-events-none mix-blend-screen\" />\r\n\r\n            <article className=\"max-w-7xl mx-auto relative z-10\">\r\n                <div className=\"max-w-4xl mx-auto\">\r\n                    <Breadcrumb items={[\r\n                        { label: 'Blog', href: '/blog' },\r\n                        ...(post.category ? [{ label: post.category.name, href: `/blog/${post.category.slug}` }] : []),\r\n                        { label: post.title, href: `/blog/${post.category?.slug || 'geral'}/${post.slug}` }\r\n                    ]} />\r\n\r\n                    <header className=\"mb-12 text-left\">\r\n                        <div className=\"flex flex-col md:flex-row items-start justify-start gap-4 text-sm text-gray-400 mb-6\">\r\n                            {post.category && (\r\n                                <span className=\"px-3 py-1 rounded-full bg-primary/10 text-primary border border-primary/20\">\r\n                                    {post.category.name}\r\n                                </span>\r\n                            )}\r\n                            <div className=\"flex items-center gap-4\">\r\n                                <span className=\"flex items-center gap-1\">\r\n                                    <Calendar className=\"w-4 h-4\" />\r\n                                    {format(new Date(post.published_at), \"d 'de' MMMM, yyyy\", { locale: ptBR })}\r\n                                </span>\r\n                                <span className=\"flex items-center gap-1\">\r\n                                    <BookOpen className=\"w-4 h-4\" />\r\n                                    {post.reading_time || 5} min de leitura\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <h1 className=\"text-3xl md:text-5xl font-bold text-white mb-6 leading-tight\">\r\n                            {post.title}\r\n                        </h1>\r\n\r\n                        <p className=\"text-xl text-gray-300 max-w-2xl mr-auto leading-relaxed\">\r\n                            {post.excerpt}\r\n                        </p>\r\n\r\n                        <div className=\"flex items-center justify-start gap-3 mt-8\">\r\n                            {post.author?.avatar_url && (\r\n                                <img src={post.author.avatar_url} alt={post.author.name} className=\"w-10 h-10 rounded-full border border-white/10\" />\r\n                            )}\r\n                            <div className=\"text-left\">\r\n                                <p className=\"text-white font-medium\">{post.author?.name}</p>\r\n                                {post.author?.role && <p className=\"text-xs text-primary mb-0.5\">{post.author.role}</p>}\r\n                                {post.author?.bio && <p className=\"text-xs text-gray-400\">{post.author.bio}</p>}\r\n                            </div>\r\n                        </div>\r\n                    </header>\r\n\r\n                    <div className=\"mb-12 rounded-2xl overflow-hidden border border-white/5 shadow-2xl\">\r\n                        <img\r\n                            src={`${post.cover_image}?width=1200&quality=80&format=webp`}\r\n                            srcSet={`\r\n                                ${post.cover_image}?width=600&quality=80&format=webp 600w,\r\n                                ${post.cover_image}?width=900&quality=80&format=webp 900w,\r\n                                ${post.cover_image}?width=1200&quality=80&format=webp 1200w\r\n                            `}\r\n                            sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 90vw, 1200px\"\r\n                            alt={post.cover_image_alt}\r\n                            className=\"w-full h-auto\"\r\n                            width={1200}\r\n                            height={630}\r\n                            loading=\"eager\"\r\n                            decoding=\"async\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"max-w-3xl mx-auto\">\r\n                        <PostContent content={post.content} />\r\n                    </div>\r\n                </div>\r\n            </article>\r\n\r\n            {post.faq && post.faq.length > 0 && (\r\n                <div className=\"mt-20 relative z-10\">\r\n                    <FAQ items={post.faq} title=\"Perguntas Frequentes\" showSocialProof={false} />\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"container mx-auto px-4 relative z-10 mt-16\">\r\n                <AppPromoBanner />\r\n            </div>\r\n\r\n            {/* Disclaimer */}\r\n            <div className=\"container mx-auto px-4 relative z-10\">\r\n                <div className=\"mt-16 max-w-4xl mx-auto text-center border-t border-white/5 pt-12\">\r\n                    <p className=\"text-sm text-gray-400\">\r\n                        <strong>Aviso legal:</strong> O conteúdo disponibilizado neste blog é apenas para fins informativos e educacionais.\r\n                        Embora busquemos manter as informações atualizadas, não nos responsabilizamos por eventuais divergências ou decisões tomadas com base nos artigos.\r\n                        Consulte sempre um profissional para orientações específicas ao seu caso.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n"],"names":["React"],"mappings":"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"}