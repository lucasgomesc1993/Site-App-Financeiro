{"version":3,"file":"PromoPopup-FGg925Th.js","sources":["../../components/PromoPopup.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n// import { motion, AnimatePresence } from 'framer-motion';\r\nimport { X, Zap, ArrowRight } from 'lucide-react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nexport const PromoPopup: React.FC = () => {\r\n    const location = useLocation();\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    const [isDismissed, setIsDismissed] = useState(false);\r\n    const [hasInteracted, setHasInteracted] = useState(false);\r\n    const [hasScrolled, setHasScrolled] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Only run logic on target pages and if not dismissed\r\n        if (!((location.pathname.startsWith('/calculadoras') || location.pathname.startsWith('/blog')) && !isDismissed)) {\r\n            setIsVisible(false);\r\n            return;\r\n        }\r\n\r\n        const handleInteraction = () => {\r\n            setHasInteracted(true);\r\n        };\r\n\r\n        const handleScroll = () => {\r\n            const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;\r\n            if (scrollPercent > 30) {\r\n                setHasScrolled(true);\r\n            }\r\n            // Scrolling also counts as interaction\r\n            setHasInteracted(true);\r\n        };\r\n\r\n        // Add listeners for interaction\r\n        window.addEventListener('mousemove', handleInteraction, { once: true });\r\n        window.addEventListener('mousedown', handleInteraction, { once: true });\r\n        window.addEventListener('keydown', handleInteraction, { once: true });\r\n        window.addEventListener('touchstart', handleInteraction, { once: true });\r\n        window.addEventListener('scroll', handleScroll);\r\n\r\n        return () => {\r\n            window.removeEventListener('mousemove', handleInteraction);\r\n            window.removeEventListener('mousedown', handleInteraction);\r\n            window.removeEventListener('keydown', handleInteraction);\r\n            window.removeEventListener('touchstart', handleInteraction);\r\n            window.removeEventListener('scroll', handleScroll);\r\n        };\r\n    }, [location, isDismissed]);\r\n\r\n    useEffect(() => {\r\n        if (hasInteracted && hasScrolled && !isDismissed && (location.pathname.startsWith('/calculadoras') || location.pathname.startsWith('/blog'))) {\r\n            setIsVisible(true);\r\n        }\r\n    }, [hasInteracted, hasScrolled, isDismissed, location]);\r\n\r\n    const handleDismiss = () => {\r\n        setIsVisible(false);\r\n        setIsDismissed(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {isVisible && (\r\n                <div\r\n                    className=\"fixed z-50 \r\n                        bottom-4 left-4 right-4 md:left-auto md:right-8 md:bottom-8 \r\n                        md:w-[380px] w-auto animate-in fade-in slide-in-from-bottom-8 duration-700\"\r\n                >\r\n                    <div className=\"relative overflow-hidden rounded-2xl border border-white/10 bg-[#0d0d0d] md:bg-[#0d0d0d]/90 md:backdrop-blur-xl shadow-xl md:shadow-[0_0_40px_rgba(0,0,0,0.5)] p-5\">\r\n                        {/* Background Effects - Subtle */}\r\n                        <div className=\"absolute -top-20 -right-20 w-40 h-40 bg-primary/5 rounded-full blur-3xl pointer-events-none\" />\r\n\r\n                        <button\r\n                            onClick={handleDismiss}\r\n                            aria-label=\"Fechar popup\"\r\n                            className=\"absolute top-3 right-3 text-gray-500 hover:text-white transition-colors\"\r\n                        >\r\n                            <X className=\"w-4 h-4\" />\r\n                        </button>\r\n\r\n                        <div className=\"flex flex-col gap-3\">\r\n                            <div className=\"flex items-start gap-3\">\r\n                                <div className=\"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center border border-primary/20 shrink-0\">\r\n                                    <Zap className=\"w-5 h-5 text-primary\" />\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <h3 className=\"text-base font-bold text-white leading-tight mb-1\">\r\n                                        Controle Financeiro Inteligente\r\n                                    </h3>\r\n                                    <p className=\"text-xs text-gray-400 leading-relaxed\">\r\n                                        Organize suas finanças automaticamente pelo WhatsApp com nossa IA.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <a\r\n                                href=\"https://app.junny.com.br/criar-conta\"\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"flex items-center justify-center gap-2 w-full py-2 px-4 bg-primary hover:bg-primary/90 text-[#0d0d0d] font-bold text-xs uppercase tracking-wide rounded-full transition-all hover:scale-[1.02] active:scale-[0.98] whitespace-nowrap\"\r\n                            >\r\n                                Testar Grátis Agora\r\n                                <ArrowRight className=\"w-3.5 h-3.5\" />\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}